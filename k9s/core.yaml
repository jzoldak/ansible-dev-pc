- name: K9S
  hosts: 127.0.0.1
  connection: local

  vars:
    k9s_version: v0.25.6
    k9s_archive_checksum: b83e1d9e3862a97e9e2ecff7fa471f455fb3a047759d0234f712951e0e94c40f

  tasks:
    - name: Download K9S
      get_url:
        url: https://github.com/derailed/k9s/releases/download/{{ k9s_version }}/k9s_Linux_x86_64.tar.gz
        dest: /tmp/k9s_Linux_x86_64.tar.gz
        checksum: sha256:{{ k9s_archive_checksum }}
      register: k9s_download

    - name: Extract k9s
      unarchive:
        src: /tmp/k9s_Linux_x86_64.tar.gz
        dest: $HOME/bin
        exclude:
        - README.md
        - LICENSE
        creates: $HOME/bin/k9s
